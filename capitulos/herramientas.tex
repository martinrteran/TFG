\chapter{Materiales y Herramientas}
%\vspace{-1cm}
En este capítulo se exponen los materiales utilizados para cada componente del sistema, las herramientas utilizadas para el modelado 3D del nano-espaciador, simulación de la transmisión de calor por conducción y simulación de transmisión de calor por radiación por campo cercano, y los motivos de uso de dichos materiales y herramientas.
\section{Materiales}
Para una \acrshort{ntpv} es imprescindible una selección adecuada de los materiales de cada componente, para así conseguir la mayor cantidad de eficiencia y potencia eléctrica. A continuación se listan y desarrollan los materiales de cada uno de los componentes de la \acrshort{ntpv} utilizados en este trabajo, y los criterios seguidos para la elección de cada uno. Siendo estos componentes que integran la \acrshort{ntpv} un emisor, una célula \acrshort{tpv} y los nano-espaciadores.
\subsection{Nano-espaciadores}
Los nano-espaciadores tienen que tener una resistencia térmica de conducción alta, para poder disminuir las pérdidas por conducción. También tienen que ser resistentes a la compresión que se ven sometidos por el peso de los componentes y la expansión térmica. Por último, tienen que permitir el paso de la luz con energía mayor a la \acrshort{bg} de la célula a utilizar, para así aumentar el flujo de radiación útil a la célula.\\\\
Para este trabajo suponemos que los nano-espaciadores son de dióxido de silicio (\gls{sio2}) \cite{doi:10.1063/1.1141498}, un material que ha sido utilizado en varias ocasiones en sistemas de campo cercano de \acrshort{tpv} o \acrshort{tic} por ser un material cerámico con una baja conductividad térmica y alta resistencia a la fuerza de compresión. La conductividad térmica es menor a 10 W/m\textdegree C en el rango de temperatura de trabajo, entre 25 a 800\textdegree C.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%               Célula TPV                 %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Célula fotovoltaica}
Las células para una \acrshort{tpv} tienen que poder absorber la mayor cantidad de radiación infrarroja, por ser donde se encuentra la mayor cantidad de potencia de radiación de estos sistemas con emisores a altas temperaturas.\\\\
Para este trabajo suponemos inicialmente que las células son de silicio (\gls{si}) para llevar a cabo unos cálculos preliminares, se utiliza \gls{si} por ser un material ampliamente conocido y utilizado en la fabricación de células fotovoltaicas. En el resto de simulaciones se utiliza germanio (\gls{ge}), que es capaz de absorber una mayor cantidad de radiación por tener una \acrshort{bg} de 0.66eV a 300K, a diferencia del \gls{si} que es unos 1.11 eV a 300 K. El tener una menor \acrshort{bg} es importante en la TPV porque permite absorber parte de la radiación infrarroja.\\\\
Otro motivo por el cual se utiliza el \gls{ge} es porque es el material de las células \acrshort{tpv} a disposición en el Instituto de Energía Solar (\acrshort{ies}), que es el centro de investigación donde se desarrolla este \acrshort{tfg}.
\subsection{Emisor TPV}
El material del emisor está limitado principalmente al campo de aplicación de la \acrshort{tpv} y a la potencia de radiación en el rango espectral útil. Para este trabajo se consideran varios materiales según sus potencias de radiación en el rango espectral de energía mayor a 0.7 eV para unas distancias de separación de 100 nm y 1000 nm, como se puede observar en la figura \ref{fig:EgRad}.
\begin{figure}[H]
	\centering
		\includegraphics[width=0.6\textwidth]{figuras/rad_mat/EgRad.png}
	\caption[Potencias por unidad de área para una célula de Ge y diferentes materiales de emisor para un rango de longitudes de onda desde aproximadamente 0.2 $\mu m$ hasta 1.8 $\mu m$ (0.7 eV) con distancias de separación de 100nm y 1000nm según las ecuaciones \eqref{eq:flujoPropNF} y \eqref{eq:flujoEvasNF}]{Potencias por unidad de área para una célula de Ge y diferentes materiales de emisor para un rango de longitudes de onda desde aproximadamente 0.2 $\mu m$ hasta 1.8 $\mu m$ (0.7 eV) con distancias de separación de 100nm y 1000nm según las ecuaciones de \cite{nfTPV_equations} calculadas a partir de las ecuaciones \eqref{eq:flujoPropNF} y \eqref{eq:flujoEvasNF}.}
	\label{fig:EgRad}
\end{figure}
Entre todos los materiales de emisor que se pueden observar en la figura \ref{fig:EgRad}, se seleccionan para este trabajo se seleccionan los siguientes tres materiales:
\begin{itemize}
	\item \textbf{\gls{si}}: es un material que es abundante y que se encuentra entre los materiales de emisor con mayor potencia de radiación. Se utilizará para realizar las pruebas de simulación iniciales, para así tener un punto de partida.
	\item \textbf{Acero inoxidable 304 (\acrshort{ss})}: aunque no genere mucha potencia de radiación, es un material muy utilizado en la industria, incluyendo al transporte. Siendo de gran interés para sistemas de recuperación de calor que utilizan TPV.
	\item \textbf{\gls{sic}}: presenta una potencia radiada similar a la del \gls{si}, pero tiene un punto de fusión mayor que el del \gls{si}. Se utiliza principalmente porque presenta mayores potencias frente a la frecuencia cuando el receptor es de \gls{sic}, por el efecto de la \gls{wres}, como se observa en las simulaciones de \cite{doi:Near_field_ThinFilm}.
\end{itemize}

A su vez se analizaron otros materiales adicionales que finalmente fueron descartados por ser muy caros, proporcionar una baja potencia radiada, etc. %, similar conductividad térmica al SiC, Si o SS, punto de fusión menor o cercano a los 800\textdegree C, o por ser demasiado blandos. 
Algunos de estos materiales son los siguientes:

\begin{itemize}
	\item \textbf{Antimoniuro de Galio (GaSb)}: es un semiconductor con punto de fusión de 710\textdegree C, que es menor a los 800\textdegree C que se encuentra el emisor, por lo cual no se puede utilizar porque empezará a pasar a estado líquido antes de llegar a la temperatura deseada.
	\item \textbf{Grafito}: es un material relativamente barato con un alto punto de fusión y una alta potencia de radiación, como se puede observar en la figura \ref{fig:EgRad}, pero presenta el problema que es muy blando respecto al $SiO_2$, teniendo como dureza máxima unos 50 HV (dureza Vickers) en comparación a los 500 HV del $SiO_2$.\\\ Por lo tanto, cuando se aplique presión a los dispositivos, el nano-espaciador penetrarán el emisor, produciendo que disminuya la distancia de separación y aumente la posibilidad de contacto entre el emisor y la célula.
	\item \textbf{Tungsteno (W)}: es un material con coste medio, siendo como máximo unos 56.4€/kg. Su dureza Vickers es de unos 350 HV que es adecuada por no ser tan inferior a la del $SiO_2$, su conductividad térmica es más alta que la del nano-espaciador, pero la potencia radiativa en campo cercano es baja, más cercana a la del acero.
	\item \textbf{Alumina ($Al_2O_3$)}: es un material que presenta la sexta potencia radiada más grande para 100 nm de separación, pero presenta el inconveniente de que es muy caro, aproximadamente 16000€/kg o más, disminuyendo considerablemente la viabilidad del sistema.
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%          HERRAMIENTAS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Herramientas}

Las herramientas o programas utilizados durante el desarrollo del trabajo son variados y por diferentes motivos, a continuación se da una breve descripción y se explican los motivos de la utilización de cada programa.\\\\
Para la obtención de las propiedades ópticas y térmicas de los materiales se utilizan Granta EduPack 2021 R2\footnote{\href{https://www.ansys.com/products/materials/granta-edupack}{https://www.ansys.com/products/materials/granta-edupack}}, la página web Refractive Index\footnote{\href{https://refractiveindex.info/}{https://refractiveindex.info/}} y el resto de datos de los materiales que no se encuentren en dichas herramientas se obtienen de artículos de investigación. Para el modelado 3D se utiliza Autodesk Inventor 2021\footnote{\href{https://www.autodesk.es/products/inventor/overview}{https://www.autodesk.es/products/inventor/overview}}, para las simulaciones de la transmisión de calor por conducción se utiliza Autodesk CFD 2021\footnote{\href{https://www.autodesk.com/products/cfd/overview}{https://www.autodesk.com/products/cfd/overview}}, para la transmisión de calor por radiación se utiliza un script de Matlab que resuelve las ecuaciones \eqref{eq:flujoPropNF} y \eqref{eq:flujoEvasNF} a partir de las propiedades ópticas (n-k datos) de los materiales implementado en la calculadora de campo cercano, y para el análisis de datos se utiliza MATLAB\footnote{\href{https://matlab.mathworks.com/}{https://matlab.mathworks.com/}}.\\\\
Unas herramientas a destacar son TexStudio y TexnicCenter utilizadas para la redacción de este trabajo por la facilidad que presenta el escribir ecuaciones, actualizaciones de figuras y la menor necesidad de recursos que Word. También hay que destacar el uso de Git para el control de versiones del documento.\\
%%%  GRANTA EDUPACK 2021 R2
\subsection{Granta EduPack 2021 R2}\label{sec:grantaEduPack}
Programa desarrollado por la empresa Ansys que contiene varias bases de datos que recopila información sobre distintos materiales, teniendo un fácil acceso a la información básica de los mismos a través de una interfaz gráfica (GUI) y estando organizadas de manera específica para cada base de datos. Este programa está disponible en la versión de Windows 10 del escritorio remoto de la UPM.\\\\
La base de datos utilizada es la \textit{Level 3} de las avanzadas porque recopila los datos de todos los materiales necesarios. En la mayoría de los casos incluye la variación de algunas propiedades respecto a la temperatura, siendo principalmente necesaria la conductividad térmica del material respecto a la temperatura.\\\\
Dado la gran cantidad de datos a disposición y la facilidad de obtención de los datos de los materiales, especialmente los datos que están disponibles con la variación de la temperatura, se utiliza este programa.
%%%   REFRACTIVE INDEX
\subsection{Refractive Index}
En esta página web están recopilados de artículos científicos los índices de refracción (\gls{n}) y coeficientes de extinción (\gls{k}) de diferentes materiales en diferentes rangos de longitudes de onda, teniendo a disposición hipervínculos a los artículos de donde se extrajo los datos y la opción de descargar dichos datos.\\\\
%El motivos de su utilización son la facilidad para la obtención de los índices de refracción y extinción, necesarios para los cálculos del flujo térmico de radiación por campo cercano, y la disponibilidad de los artículos utilizados para contrastar los valores presentados.

%\subsection{Modelado 3D}
%Para el modelado 3D de cada componente del sistema (emisor, célula y nano-espaciador) se utiliza Autodesk Inventor 2021 por la facilidades que presenta autoDesk de utilizar los archivos de un programa de la misma compañía en otro programa para continuar con el estudio del sistema.ç
%%%  Autodesk INVENTOR 2021
\subsection{Autodesk Inventor Professional 2021}
Es un software de Diseño 3D Asistido por Ordenador (CAD 3D) que ofrece herramientas para el diseño de piezas, ensamblajes, mecanismos, documentación y simulación de los sistemas. También permite el utilizar herramientas de entorno añadidas para simulaciones más complejas, el fácil acoplamiento para el uso de otros programas de Autodesk y el uso de parámetros en el diseño y modelado de las piezas.
%\begin{figure}[H]
	%\centering
		%\includegraphics[width=3cm]{figuras/inventorpro.png}
	%\caption{Icono de Autodesk Inventor Professional 2021}
	%\label{fig:inventorpro}
%\end{figure}
Se utiliza el programa para el modelado 3D de los nano-espaciadores, el emisor, la célula y el sistema TPV completo. Los motivos de utilización del programa son:

\begin{itemize}
	\item Licencia estudiantil facilitada por la Universidad Politécnica de Madrid (UPM).
	\item Menor consumo de recursos que otros programas de modelado 3D.
	\item No necesita una conexión constante a internet para su uso.
	\item Acoplamiento con Autodesk CFD, permitiendo el lanzar modelos de Inventor a CFD. 
\end{itemize}
Una desventaja de este programa es la limitación que presenta en las unidades mínimas de trabajo ($mm$), no pudiendo realizar modelos en escala nanométrica por lo que se utilizan distancias geométricas mayores, teniendo que adaptar los valores de las propiedades térmicas de los materiales para tener ese cambio de escala en cuenta.
%\subsection{Simulaciones de transmisión de calor por conducción}
%Para la simulación de transmisión de calor se usa el programa Autodesk Computational Fluid Dynamics (CFD), que aún ser usado principalmente para simulaciones con fluidos también permite simular solo transmisión de calor por conducción en sólidos y permite usar los diseños de Autodesk Inventor para simular, siendo fácilmente creado el provecto de CFD desde Inventor en la pestaña nueva de simulación, que se crea automáticamente con la instalación de CFD, y haciendo click sobre \textit{Active Model Assessment Tool}. Usándose exclusivamente para las simulaciones de conducción porque no puede simular la transmisión de calor por campo cercano.
\subsection{Autodesk CFD}
Es un software desarrollado por Autodesk que se usa para crear simulaciones computacional de la dinámica de fluidos para la predicción del comportamiento complejo de fluidos (líquidos y gases), el programa también simula la transmisión de calor por conducción en sólidos, convección en fluidos y de radiación. \\
%\begin{figure}[H]
	%\centering
		%\includegraphics[width=3cm]{figuras/CFD.png}
	%\caption{Icono de Autodesk CFD}
	%\label{fig:CFD}
%\end{figure}
Se utiliza el programa para las simulaciones de transmisión de calor por conducción en vez de el entorno Nastran de Inventor por las siguientes razones:
\begin{itemize}
	\item Utilización de escalas pequeñas de los parámetros de los materiales.
	\item Fácil control del mallado.
	\item Control de los pasos de la simulación, la frecuencia de guardado de datos y el número de iteraciones.
	\item Fácil obtención de los datos de los flujos de calor y las temperaturas del espaciador en formato CSV.
\end{itemize}

\subsection{MATLAB}
MATLAB es un programa o plataforma de programación de \textit{MathWorks} que permite desarrollar cálculos numéricos, desarrollar algoritmos, analizar datos y crear modelos matemáticos de sistemas para cálculo o simulaciones utilizando su propio lenguaje de programación. A su vez, MATLAB proporciona una tienda de paquetes donde los usuarios puede subir aplicaciones desarrolladas en MATLAB que permiten aprovechar aún más los recursos del sistema y facilitar el trabajo, ya sea analizar datos, obtener modelos matemáticos, entre otros.\\
%\begin{figure}[H]
	%\centering
		%\includegraphics[width=3cm]{figuras/MatlabIcon.png}
	%\caption{Icono de MATLAB}
	%\label{fig:MatlabIcon}
%\end{figure}
Se utiliza MATLAB para el análisis de los resultados obtenidos de las simulaciones de transmisión de calor por conducción y radiación, para realizar gráficas, para realizar cálculos y para desarrollar la aplicación de la calculadora de campo cercano. El principal motivo de usar MATLAB es para calcular la transmisión de calor en condiciones de campo cercano.

\subsection{Calculadora de campo cercano} \label{sec:calc_campo_cercano}
Para las simulaciones de transmisión de calor por radiación de campo cercano entre dos placas paralelas de área infinita se utiliza un código escrito en MATLAB que ya estaba implementado y que cumple con las ecuaciones de campo cercano para dos placas planas gruesas (ecuaciones \eqref{eq:flujoPropNF} y \eqref{eq:flujoEvasNF}). A partir de dicho código se desarrolla una aplicación en el App Designer de MATLAB que facilita el proceso, porque mejora la interfaz de usuario y disminuye los tiempos de simulación al realizar los cálculos con hilos (Parallel Processing Toolbox), permitiendo así realizar combinaciones de materiales y distancias de manera sencilla.\\\\
Los motivos que impulsaron el desarrollar de la aplicación son el simplificar el proceso de simular la radiación por campo cercano para diferentes combinaciones de materiales y distancia de separación, y la obtención de la potencia total para el rango de longitudes de onda deseadas para todas las combinaciones.\\

La aplicación se divide en tres pestañas \textit{Potencia Radiada}, \textit{Potencia} y \textit{Materiales}. En cuanto se abre la aplicación se presenta abierta la pestaña de \textit{Potencia Radiada} (figura \ref{fig:pestana_PotenciaRadiada}), donde se seleccionan los materiales del emisor y el receptor, las distancias de separación de los cuerpos y la temperatura del emisor en grados Kelvin, ya que la del receptor es fija a 300K. También muestra la gráfica de los resultados obtenidos de la simulación para cualquier combinación excepto cuando se eligen varios materiales en un rango de distancias porque todavía no está implementado para este caso de dos rangos.\\ 
\begin{figure}[H]
	\centering
		\includegraphics[width=0.80\textwidth]{figuras/pestana_PotenciaRadiada2.png}
	\caption{Pestaña \textit{Potencia Radiada} de la calculadora de campo cercano}
	\label{fig:pestana_PotenciaRadiada}
\end{figure}
Para la selección del rango de los materiales se abre una nueva ventana de una GUI donde se utiliza dos árboles de casillas de selección para los materiales del emisor y el receptor del sistema de transmisión de calor por radiación de campo cercano (figura \ref{fig:ventana_mat}). Para la selección del rango de distancias se abre una nueva ventana de una GUI donde se selecciona en múltiplos de 100 el valor máximo y el valor mínimo del rango de distancias a simular, las distancias máxima y mínima son 1000nm y 100nm respectivamente (figura \ref{fig:ventana_dist}).Antes de realizar los cálculos se realiza una interpolación lineal de los valores de n y k de los materiales para que coincidan los puntos para cada longitud de onda.\\\\
\begin{figure}[H]%
\centering
\begin{subfigure}[b]{0.48\textwidth}
\centering
	\includegraphics[width=0.75\textwidth]{figuras/pestana_Distancias.png}
	\caption{Ventana de selección de rango de distancias}%
	\label{fig:ventana_dist}%
\end{subfigure}
\hfill
\begin{subfigure}[b]{0.48\textwidth}
\centering
	\includegraphics[width=0.75\textwidth]{figuras/pestana_Elegirmateriales.png}
	\caption{Ventana de selección de materiales}%
	\label{fig:ventana_mat}%
\end{subfigure}
\caption{(\subref{fig:ventana_dist}) Ventana para la selección del rango de las distancias de separación entre el emisor y el receptor. (\subref{fig:ventana_mat}) Ventana para la selección de los materiales para el emisor y el receptor.}%
\label{fig:ventanas_d_mat}%
\end{figure}
La pestaña de \textit{Potencia} (figura \ref{fig:pestana_Potencia}) contiene una calculadora para pasar de electrón-voltios a longitud de onda y viceversa, unos campos para controlar el rango espectral en longitudes de onda para realizar la integral de la potencia radiada y una gráfica para mostrar los resultados obtenidos de integrar. La integral se realiza por el método del trapezoide. Los resultados obtenidos de la potencia integrada (figura \ref{fig:pestana_Potencia}), los de la radiación espectral o ambos se pueden guardar en un archivo excel.
\begin{figure}[H]
	\centering
		\includegraphics[width=0.70\textwidth]{figuras/pestana_Potencia.png}
	\caption{Pestaña de la Potencia}
	\label{fig:pestana_Potencia}
\end{figure}
La pestaña de \textit{Materiales} se usa para observar en una tabla o gráfica, según la pestaña interna seleccionada, los valores de n y k del material seleccionado en la lista de la izquierda, como se puede observar en la figura \ref{fig:pestana_materiales}.
\begin{figure}[H]
	\centering
		\includegraphics[width=0.70\textwidth]{figuras/pestana_materiales.png}
	\caption{Pestaña de los datos de n y k  de los materiales disponibles}
	\label{fig:pestana_materiales}
\end{figure}
Para obtener una mejor fidelidad de los resultados de la simulaciones se limita el rango de los datos dentro de las longitudes de onda que comparten todos los materiales del conjunto que se va a simular.